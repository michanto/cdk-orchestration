"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handler = void 0;
function log(message) {
    if (process.env.LogLevel) {
        console.log(JSON.stringify(message));
    }
}
const handler = async (event, context) => {
    log({ Event: event });
    log({ Context: context });
    let executions = event.StateMachineExecutions;
    for (let i = 0; i < executions.length; i++) {
        if (executions[i].completeFlag == "Timeout") {
            executions[i].name = `${event.ExecutionName}_Timeout`;
        }
        else {
            executions[i].name = `${event.ExecutionName}_${i}`;
        }
    }
    return Promise.resolve(executions);
};
exports.handler = handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlX2NvbnRlc3RhbnRfbmFtZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY3JlYXRlX2NvbnRlc3RhbnRfbmFtZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsU0FBUyxHQUFHLENBQUMsT0FBNEI7SUFDdkMsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFBO0lBQ3RDLENBQUM7QUFDSCxDQUFDO0FBRU0sTUFBTSxPQUFPLEdBQUcsS0FBSyxFQUFDLEtBQVUsRUFBRSxPQUFZLEVBQUUsRUFBRTtJQUNyRCxHQUFHLENBQUMsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQTtJQUNuQixHQUFHLENBQUMsRUFBQyxPQUFPLEVBQUUsT0FBTyxFQUFDLENBQUMsQ0FBQTtJQUV2QixJQUFJLFVBQVUsR0FBVSxLQUFLLENBQUMsc0JBQXNCLENBQUE7SUFDcEQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUMzQyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLElBQUksU0FBUyxFQUFFLENBQUM7WUFDNUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxhQUFhLFVBQVUsQ0FBQTtRQUN2RCxDQUFDO2FBQU0sQ0FBQztZQUNOLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsYUFBYSxJQUFJLENBQUMsRUFBRSxDQUFBO1FBQ3BELENBQUM7SUFDSCxDQUFDO0lBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQ3RDLENBQUMsQ0FBQTtBQWJZLFFBQUEsT0FBTyxXQWFuQiIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGxvZyhtZXNzYWdlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gIGlmIChwcm9jZXNzLmVudi5Mb2dMZXZlbCkge1xuICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBoYW5kbGVyID0gYXN5bmMoZXZlbnQ6IGFueSwgY29udGV4dDogYW55KSA9PiB7XG4gICAgbG9nKHtFdmVudDogZXZlbnR9KVxuICAgIGxvZyh7Q29udGV4dDogY29udGV4dH0pXG5cbiAgICBsZXQgZXhlY3V0aW9uczogYW55W10gPSBldmVudC5TdGF0ZU1hY2hpbmVFeGVjdXRpb25zXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGVjdXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXhlY3V0aW9uc1tpXS5jb21wbGV0ZUZsYWcgPT0gXCJUaW1lb3V0XCIpIHtcbiAgICAgICAgZXhlY3V0aW9uc1tpXS5uYW1lID0gYCR7ZXZlbnQuRXhlY3V0aW9uTmFtZX1fVGltZW91dGBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4ZWN1dGlvbnNbaV0ubmFtZSA9IGAke2V2ZW50LkV4ZWN1dGlvbk5hbWV9XyR7aX1gXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhlY3V0aW9ucylcbn0iXX0=